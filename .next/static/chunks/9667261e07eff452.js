(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5050,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(47163),s=e.i(46932);let l=r.forwardRef(({className:e,hoverEffect:r=!1,glass:l=!1,children:i,...d},n)=>{let o=(0,t.cn)("rounded-xl border border-border bg-surface p-6 shadow-sm transition-all duration-300",l&&"glass border-white/20 bg-white/70 dark:bg-black/40",r&&"hover:shadow-xl hover:-translate-y-1 hover:border-primary/30",e);return r?(0,a.jsx)(s.motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.4},className:o,ref:n,...d,children:i}):(0,a.jsx)("div",{ref:n,className:o,...d,children:i})});l.displayName="Card",r.forwardRef(({className:e,...r},s)=>(0,a.jsx)("div",{ref:s,className:(0,t.cn)("flex flex-col space-y-1.5 p-6",e),...r})).displayName="CardHeader",r.forwardRef(({className:e,...r},s)=>(0,a.jsx)("h3",{ref:s,className:(0,t.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r})).displayName="CardTitle",r.forwardRef(({className:e,...r},s)=>(0,a.jsx)("p",{ref:s,className:(0,t.cn)("text-sm text-text-secondary",e),...r})).displayName="CardDescription",r.forwardRef(({className:e,...r},s)=>(0,a.jsx)("div",{ref:s,className:(0,t.cn)("p-6 pt-0",e),...r})).displayName="CardContent",r.forwardRef(({className:e,...r},s)=>(0,a.jsx)("div",{ref:s,className:(0,t.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>l])},71689,e=>{"use strict";let a=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],71689)},60655,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(18566),s=e.i(71689);let l=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var i=e.i(22016),d=e.i(76525),n=e.i(5050),o=e.i(1206);function c({initialData:e,isEdit:c=!1}){let u=(0,t.useRouter)(),[m,p]=(0,r.useState)(!1),[h,x]=(0,r.useState)({name:"",description:"",price:"",category:"",image_url:"",stock_status:"in_stock",razorpay_link:"",featured:!1,...e}),f=e=>{let{name:a,value:r,type:t}=e.target;x(s=>({...s,[a]:"checkbox"===t?e.target.checked:r}))},y=async a=>{a.preventDefault(),p(!0);try{let a=c?`/api/products/${e.id}`:"/api/products";if(!(await fetch(a,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,price:parseFloat(h.price)})})).ok)throw Error("Failed to save product");u.push("/admin/products"),u.refresh()}catch(e){console.error(e),alert("Failed to save product")}finally{p(!1)}};return(0,a.jsxs)("form",{onSubmit:y,className:"max-w-4xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(i.default,{href:"/admin/products",children:(0,a.jsxs)(d.Button,{variant:"ghost",size:"sm",children:[(0,a.jsx)(s.ArrowLeft,{className:"w-4 h-4 mr-2"})," Back"]})}),(0,a.jsx)("h1",{className:"text-3xl font-display font-bold",children:c?"Edit Product":"Add New Product"})]}),(0,a.jsxs)(d.Button,{type:"submit",isLoading:m,children:[(0,a.jsx)(l,{className:"w-4 h-4 mr-2"}),"Save Product"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"md:col-span-2 space-y-8",children:[(0,a.jsxs)(n.Card,{className:"p-6 space-y-6",children:[(0,a.jsx)(o.Input,{label:"Product Name",name:"name",value:h.name,onChange:f,required:!0}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Description"}),(0,a.jsx)("textarea",{className:"w-full min-h-[150px] p-3 rounded-lg border border-border bg-surface focus:ring-2 focus:ring-primary/20 outline-none transition-all",name:"description",value:h.description,onChange:f,required:!0})]})]}),(0,a.jsxs)(n.Card,{className:"p-6 space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold",children:"Media"}),(0,a.jsx)(o.Input,{label:"Image URL",name:"image_url",placeholder:"https://...",value:h.image_url,onChange:f,required:!0}),h.image_url&&(0,a.jsx)("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-surface-elevated border border-border",children:(0,a.jsx)("img",{src:h.image_url,alt:"Preview",className:"w-full h-full object-contain"})})]})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)(n.Card,{className:"p-6 space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold",children:"Pricing & Inventory"}),(0,a.jsx)(o.Input,{label:"Price (â‚¹)",name:"price",type:"number",step:"0.01",value:h.price,onChange:f,required:!0}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Stock Status"}),(0,a.jsxs)("select",{name:"stock_status",value:h.stock_status,onChange:f,className:"w-full p-2.5 rounded-lg border border-border bg-surface",children:[(0,a.jsx)("option",{value:"in_stock",children:"In Stock"}),(0,a.jsx)("option",{value:"out_of_stock",children:"Out of Stock"}),(0,a.jsx)("option",{value:"pre_order",children:"Pre-order"})]})]})]}),(0,a.jsxs)(n.Card,{className:"p-6 space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold",children:"Organization"}),(0,a.jsx)(o.Input,{label:"Category",name:"category",value:h.category,onChange:f,required:!0}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"featured",name:"featured",checked:h.featured,onChange:f,className:"w-4 h-4 rounded border-border text-primary focus:ring-primary"}),(0,a.jsx)("label",{htmlFor:"featured",className:"text-sm font-medium",children:"Featured Product"})]})]}),(0,a.jsxs)(n.Card,{className:"p-6 space-y-6 border-l-4 border-l-accent",children:[(0,a.jsx)("h3",{className:"text-lg font-bold",children:"Razorpay Integration"}),(0,a.jsx)(o.Input,{label:"Payment Link ID",name:"razorpay_link",placeholder:"pl_...",value:h.razorpay_link,onChange:f,description:"Optional: Create a Payment Link on Razorpay dashboard"})]})]})]})]})}e.s(["default",()=>c],60655)},45870,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(18566),s=e.i(60655);function l(){let{id:e}=(0,t.useParams)(),[l,i]=(0,r.useState)(null),[d,n]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{fetch(`/api/products/${e}`).then(e=>e.json()).then(e=>{e.error?alert("Product not found"):i(e)}).catch(e=>console.error(e)).finally(()=>n(!1))},[e]),d)?(0,a.jsx)("div",{className:"p-8 text-center text-text-secondary",children:"Loading..."}):l?(0,a.jsx)(s.default,{initialData:l,isEdit:!0}):(0,a.jsx)("div",{className:"p-8 text-center text-error",children:"Product not found"})}e.s(["default",()=>l])}]);