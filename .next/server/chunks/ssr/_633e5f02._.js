module.exports=[34904,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895),e=a.i(46271);let f=c.forwardRef(({className:a,hoverEffect:c=!1,glass:f=!1,children:g,...h},i)=>{let j=(0,d.cn)("rounded-xl border border-border bg-surface p-6 shadow-sm transition-all duration-300",f&&"glass border-white/20 bg-white/70 dark:bg-black/40",c&&"hover:shadow-xl hover:-translate-y-1 hover:border-primary/30",a);return c?(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.4},className:j,ref:i,...h,children:g}):(0,b.jsx)("div",{ref:i,className:j,...h,children:g})});f.displayName="Card",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c})).displayName="CardHeader",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c})).displayName="CardTitle",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-text-secondary",a),...c})).displayName="CardDescription",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c})).displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>f])},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},4588,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(210);let f=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var g=a.i(38246),h=a.i(12466),i=a.i(34904),j=a.i(18180);function k({initialData:a,isEdit:k=!1}){let l=(0,d.useRouter)(),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)({name:"",description:"",price:"",category:"",image_url:"",stock_status:"in_stock",razorpay_link:"",featured:!1,...a}),q=a=>{let{name:b,value:c,type:d}=a.target;p(e=>({...e,[b]:"checkbox"===d?a.target.checked:c}))},r=async b=>{b.preventDefault(),n(!0);try{let b=k?`/api/products/${a.id}`:"/api/products";if(!(await fetch(b,{method:k?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...o,price:parseFloat(o.price)})})).ok)throw Error("Failed to save product");l.push("/admin/products"),l.refresh()}catch(a){console.error(a),alert("Failed to save product")}finally{n(!1)}};return(0,b.jsxs)("form",{onSubmit:r,className:"max-w-4xl mx-auto space-y-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(g.default,{href:"/admin/products",children:(0,b.jsxs)(h.Button,{variant:"ghost",size:"sm",children:[(0,b.jsx)(e.ArrowLeft,{className:"w-4 h-4 mr-2"})," Back"]})}),(0,b.jsx)("h1",{className:"text-3xl font-display font-bold",children:k?"Edit Product":"Add New Product"})]}),(0,b.jsxs)(h.Button,{type:"submit",isLoading:m,children:[(0,b.jsx)(f,{className:"w-4 h-4 mr-2"}),"Save Product"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"md:col-span-2 space-y-8",children:[(0,b.jsxs)(i.Card,{className:"p-6 space-y-6",children:[(0,b.jsx)(j.Input,{label:"Product Name",name:"name",value:o.name,onChange:q,required:!0}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Description"}),(0,b.jsx)("textarea",{className:"w-full min-h-[150px] p-3 rounded-lg border border-border bg-surface focus:ring-2 focus:ring-primary/20 outline-none transition-all",name:"description",value:o.description,onChange:q,required:!0})]})]}),(0,b.jsxs)(i.Card,{className:"p-6 space-y-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold",children:"Media"}),(0,b.jsx)(j.Input,{label:"Image URL",name:"image_url",placeholder:"https://...",value:o.image_url,onChange:q,required:!0}),o.image_url&&(0,b.jsx)("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-surface-elevated border border-border",children:(0,b.jsx)("img",{src:o.image_url,alt:"Preview",className:"w-full h-full object-contain"})})]})]}),(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)(i.Card,{className:"p-6 space-y-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold",children:"Pricing & Inventory"}),(0,b.jsx)(j.Input,{label:"Price (â‚¹)",name:"price",type:"number",step:"0.01",value:o.price,onChange:q,required:!0}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Stock Status"}),(0,b.jsxs)("select",{name:"stock_status",value:o.stock_status,onChange:q,className:"w-full p-2.5 rounded-lg border border-border bg-surface",children:[(0,b.jsx)("option",{value:"in_stock",children:"In Stock"}),(0,b.jsx)("option",{value:"out_of_stock",children:"Out of Stock"}),(0,b.jsx)("option",{value:"pre_order",children:"Pre-order"})]})]})]}),(0,b.jsxs)(i.Card,{className:"p-6 space-y-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold",children:"Organization"}),(0,b.jsx)(j.Input,{label:"Category",name:"category",value:o.category,onChange:q,required:!0}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"featured",name:"featured",checked:o.featured,onChange:q,className:"w-4 h-4 rounded border-border text-primary focus:ring-primary"}),(0,b.jsx)("label",{htmlFor:"featured",className:"text-sm font-medium",children:"Featured Product"})]})]}),(0,b.jsxs)(i.Card,{className:"p-6 space-y-6 border-l-4 border-l-accent",children:[(0,b.jsx)("h3",{className:"text-lg font-bold",children:"Razorpay Integration"}),(0,b.jsx)(j.Input,{label:"Payment Link ID",name:"razorpay_link",placeholder:"pl_...",value:o.razorpay_link,onChange:q,description:"Optional: Create a Payment Link on Razorpay dashboard"})]})]})]})]})}a.s(["default",()=>k],4588)},56167,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(4588);function f(){let{id:a}=(0,d.useParams)(),[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{fetch(`/api/products/${a}`).then(a=>a.json()).then(a=>{a.error?alert("Product not found"):g(a)}).catch(a=>console.error(a)).finally(()=>i(!1))},[a]),h)?(0,b.jsx)("div",{className:"p-8 text-center text-text-secondary",children:"Loading..."}):f?(0,b.jsx)(e.default,{initialData:f,isEdit:!0}):(0,b.jsx)("div",{className:"p-8 text-center text-error",children:"Product not found"})}a.s(["default",()=>f])}];

//# sourceMappingURL=_633e5f02._.js.map