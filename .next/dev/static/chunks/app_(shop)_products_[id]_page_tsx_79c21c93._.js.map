{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/venka/Music/aph/Ubuntu_Cage/intru_in/app/%28shop%29/products/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { useParams } from \"next/navigation\";\r\nimport { ArrowLeft, Loader2, Minus, Plus } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/Button\";\r\nimport { formatCurrency } from \"@/lib/utils\";\r\nimport { useCart } from \"@/components/cart/CartProvider\";\r\nimport type { Product } from \"@/lib/product-service\";\r\n\r\nexport default function ProductDetailsPage() {\r\n    const { id } = useParams();\r\n    const { addItem } = useCart();\r\n    const [product, setProduct] = useState<Product | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(\"\");\r\n    const [selectedSize, setSelectedSize] = useState(\"M\");\r\n    const [quantity, setQuantity] = useState(1);\r\n\r\n    useEffect(() => {\r\n        fetch(`/api/products/${id}`)\r\n            .then(res => {\r\n                if (!res.ok) throw new Error(\"Product not found\");\r\n                return res.json();\r\n            })\r\n            .then(data => {\r\n                setProduct(data);\r\n                setLoading(false);\r\n            })\r\n            .catch(err => {\r\n                setError(err.message);\r\n                setLoading(false);\r\n            });\r\n    }, [id]);\r\n\r\n    const handleAddToCart = () => {\r\n        if (!product) return;\r\n        for (let i = 0; i < quantity; i++) {\r\n            addItem(product);\r\n        }\r\n    };\r\n\r\n    const handleBuyNow = () => {\r\n        if (!product) return;\r\n        handleAddToCart();\r\n        // In a real app, redirect to checkout\r\n        window.location.href = '/checkout';\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center\">\r\n                <Loader2 className=\"w-8 h-8 animate-spin text-black\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error || !product) {\r\n        return (\r\n            <div className=\"container-custom py-20 text-center\">\r\n                <h2 className=\"text-2xl font-bold uppercase tracking-tight mb-4\">Product Not Found</h2>\r\n                <p className=\"text-gray-500 mb-8\">The product you're looking for doesn't exist.</p>\r\n                <Link href=\"/products\">\r\n                    <Button>Back to Products</Button>\r\n                </Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const sizes = [\"XS\", \"S\", \"M\", \"L\", \"XL\", \"XXL\"];\r\n    const displayPrice = product.sale_price || product.price;\r\n\r\n    return (\r\n        <div className=\"container-custom py-12 md:py-24\">\r\n            {/* Back Button */}\r\n            <Link\r\n                href=\"/products\"\r\n                className=\"inline-flex items-center text-gray-500 hover:text-black mb-8 transition-colors text-sm font-medium\"\r\n            >\r\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n                Back to Collection\r\n            </Link>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-20\">\r\n                {/* Left: Product Images */}\r\n                <div className=\"lg:col-span-7 space-y-4\">\r\n                    {/* Main Image */}\r\n                    <div className=\"relative aspect-[4/5] bg-gray-50 overflow-hidden rounded-sm\">\r\n                        <Image\r\n                            src={product.image_url}\r\n                            alt={product.name}\r\n                            fill\r\n                            className=\"object-cover\"\r\n                            priority\r\n                            sizes=\"(max-width: 1024px) 100vw, 60vw\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Secondary Image */}\r\n                    <div className=\"relative aspect-[4/5] bg-gray-50 overflow-hidden rounded-sm\">\r\n                        <Image\r\n                            src={product.image_url}\r\n                            alt={`${product.name} detail`}\r\n                            fill\r\n                            className=\"object-cover scale-110\"\r\n                            sizes=\"(max-width: 1024px) 100vw, 60vw\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Right: Product Info (Sticky) */}\r\n                <div className=\"lg:col-span-5\">\r\n                    <div className=\"lg:sticky lg:top-32 space-y-8\">\r\n                        {/* Breadcrumb */}\r\n                        <div className=\"text-[0.625rem] font-black uppercase tracking-[0.4em] text-gray-400\">\r\n                            {product.category}\r\n                        </div>\r\n\r\n                        {/* Product Name & Price */}\r\n                        <div className=\"space-y-4\">\r\n                            <h1 className=\"text-4xl lg:text-5xl font-bold tracking-tighter uppercase leading-[0.9]\">\r\n                                {product.name}\r\n                            </h1>\r\n                            <div className=\"flex items-baseline gap-4\">\r\n                                <span className=\"text-3xl font-bold\">\r\n                                    {formatCurrency(displayPrice)}\r\n                                </span>\r\n                                {product.sale_price && (\r\n                                    <span className=\"text-lg text-gray-400 line-through font-medium\">\r\n                                        {formatCurrency(product.price)}\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Description */}\r\n                        <p className=\"text-sm text-gray-500 leading-relaxed font-medium\">\r\n                            {product.description || \"Premium quality streetwear with a minimalist aesthetic. Made with high-quality materials for everyday comfort and style.\"}\r\n                        </p>\r\n\r\n                        {/* Size Selector */}\r\n                        <div className=\"space-y-4\">\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <span className=\"text-[0.625rem] font-black uppercase tracking-widest\">\r\n                                    Select Size\r\n                                </span>\r\n                                <button className=\"text-[0.625rem] font-bold uppercase underline tracking-widest text-gray-400 hover:text-black transition-colors\">\r\n                                    Size Guide\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"grid grid-cols-6 gap-2\">\r\n                                {sizes.map((size) => (\r\n                                    <button\r\n                                        key={size}\r\n                                        onClick={() => setSelectedSize(size)}\r\n                                        className={`\r\n                                            h-12 border text-xs font-bold uppercase tracking-widest\r\n                                            transition-all duration-200\r\n                                            ${selectedSize === size\r\n                                                ? 'border-black bg-black text-white'\r\n                                                : 'border-gray-100 hover:border-black'\r\n                                            }\r\n                                            ${size === 'XXL' ? 'opacity-30 cursor-not-allowed' : ''}\r\n                                        `}\r\n                                        disabled={size === 'XXL'} // Mock out of stock\r\n                                    >\r\n                                        {size}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Quantity Selector */}\r\n                        <div className=\"space-y-4\">\r\n                            <span className=\"text-[0.625rem] font-black uppercase tracking-widest\">\r\n                                Quantity\r\n                            </span>\r\n                            <div className=\"flex items-center gap-4\">\r\n                                <button\r\n                                    onClick={() => setQuantity(Math.max(1, quantity - 1))}\r\n                                    className=\"h-12 w-12 border border-gray-100 hover:border-black transition-colors flex items-center justify-center\"\r\n                                    disabled={quantity <= 1}\r\n                                >\r\n                                    <Minus className=\"w-4 h-4\" />\r\n                                </button>\r\n                                <span className=\"text-lg font-bold w-12 text-center\">{quantity}</span>\r\n                                <button\r\n                                    onClick={() => setQuantity(Math.min(10, quantity + 1))}\r\n                                    className=\"h-12 w-12 border border-gray-100 hover:border-black transition-colors flex items-center justify-center\"\r\n                                    disabled={quantity >= 10}\r\n                                >\r\n                                    <Plus className=\"w-4 h-4\" />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Action Buttons */}\r\n                        <div className=\"space-y-3 pt-6\">\r\n                            <Button\r\n                                size=\"lg\"\r\n                                className=\"w-full py-6\"\r\n                                onClick={handleAddToCart}\r\n                            >\r\n                                Add to Bag\r\n                            </Button>\r\n                            <Button\r\n                                variant=\"outline\"\r\n                                size=\"lg\"\r\n                                className=\"w-full py-6\"\r\n                                onClick={handleBuyNow}\r\n                            >\r\n                                Buy Now\r\n                            </Button>\r\n                        </div>\r\n\r\n                        {/* Product Details Accordions */}\r\n                        <div className=\"border-t border-gray-100 mt-12 pt-4 space-y-1\">\r\n                            <details className=\"group border-b border-gray-100\">\r\n                                <summary className=\"py-4 cursor-pointer list-none flex justify-between items-center text-[0.625rem] font-black uppercase tracking-[0.2em]\">\r\n                                    Product Features\r\n                                    <span className=\"group-open:rotate-180 transition-transform duration-300\">↓</span>\r\n                                </summary>\r\n                                <div className=\"pb-4 text-xs text-gray-500 leading-relaxed font-medium space-y-2\">\r\n                                    <p>• Premium 240 GSM French Terry fabric</p>\r\n                                    <p>• Oversized silhouette with dropped shoulders</p>\r\n                                    <p>• High-density puff print details</p>\r\n                                    <p>• Pre-shrunk and bio-washed for ultimate comfort</p>\r\n                                </div>\r\n                            </details>\r\n\r\n                            <details className=\"group border-b border-gray-100\">\r\n                                <summary className=\"py-4 cursor-pointer list-none flex justify-between items-center text-[0.625rem] font-black uppercase tracking-[0.2em]\">\r\n                                    Shipping & Returns\r\n                                    <span className=\"group-open:rotate-180 transition-transform duration-300\">↓</span>\r\n                                </summary>\r\n                                <div className=\"pb-4 text-xs text-gray-500 leading-relaxed font-medium\">\r\n                                    Free shipping on all prepaid orders across India. 7-day hassle-free return and exchange policy. Delivered within 3-5 business days.\r\n                                </div>\r\n                            </details>\r\n\r\n                            <details className=\"group border-b border-gray-100\">\r\n                                <summary className=\"py-4 cursor-pointer list-none flex justify-between items-center text-[0.625rem] font-black uppercase tracking-[0.2em]\">\r\n                                    Care Instructions\r\n                                    <span className=\"group-open:rotate-180 transition-transform duration-300\">↓</span>\r\n                                </summary>\r\n                                <div className=\"pb-4 text-xs text-gray-500 leading-relaxed font-medium\">\r\n                                    Machine wash cold. Do not bleach. Tumble dry low. Iron inside out if needed. Love the print, don't iron on it.\r\n                                </div>\r\n                            </details>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Related Products */}\r\n            <div className=\"mt-32 pt-20 border-t border-gray-100\">\r\n                <h2 className=\"text-2xl font-bold uppercase tracking-tighter mb-12\">\r\n                    Complete the look\r\n                </h2>\r\n                <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-8\">\r\n                    {/* Related products */}\r\n                    {[1, 2, 3, 4].map((i) => (\r\n                        <div key={i} className=\"group space-y-4\">\r\n                            <div className=\"aspect-[4/5] bg-gray-50 relative overflow-hidden rounded-sm\">\r\n                                <Image\r\n                                    src={`https://intru.in/cdn/shop/files/${i % 2 === 0 ? '3.png' : '99.png'}?v=1748173500&width=1946`}\r\n                                    alt=\"Related product\"\r\n                                    fill\r\n                                    className=\"object-cover group-hover:scale-105 transition-transform duration-500\"\r\n                                    sizes=\"(max-width: 768px) 50vw, 25vw\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <h3 className=\"text-xs font-bold uppercase tracking-widest\">\r\n                                    Related Product {i}\r\n                                </h3>\r\n                                <p className=\"text-xs text-gray-400 font-bold\">₹999</p>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;AATA;;;;;;;;;AAYe,SAAS;;IACpB,MAAM,EAAE,EAAE,EAAE,GAAG,IAAA,kJAAS;IACxB,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,iJAAO;IAC3B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAiB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,IAAA,0KAAS;wCAAC;YACN,MAAM,CAAC,cAAc,EAAE,IAAI,EACtB,IAAI;gDAAC,CAAA;oBACF,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;oBAC7B,OAAO,IAAI,IAAI;gBACnB;+CACC,IAAI;gDAAC,CAAA;oBACF,WAAW;oBACX,WAAW;gBACf;+CACC,KAAK;gDAAC,CAAA;oBACH,SAAS,IAAI,OAAO;oBACpB,WAAW;gBACf;;QACR;uCAAG;QAAC;KAAG;IAEP,MAAM,kBAAkB;QACpB,IAAI,CAAC,SAAS;QACd,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,IAAK;YAC/B,QAAQ;QACZ;IACJ;IAEA,MAAM,eAAe;QACjB,IAAI,CAAC,SAAS;QACd;QACA,sCAAsC;QACtC,OAAO,QAAQ,CAAC,IAAI,GAAG;IAC3B;IAEA,IAAI,SAAS;QACT,qBACI,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC,+NAAO;gBAAC,WAAU;;;;;;;;;;;IAG/B;IAEA,IAAI,SAAS,CAAC,SAAS;QACnB,qBACI,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAG,WAAU;8BAAmD;;;;;;8BACjE,6LAAC;oBAAE,WAAU;8BAAqB;;;;;;8BAClC,6LAAC,0KAAI;oBAAC,MAAK;8BACP,cAAA,6LAAC,wIAAM;kCAAC;;;;;;;;;;;;;;;;;IAIxB;IAEA,MAAM,QAAQ;QAAC;QAAM;QAAK;QAAK;QAAK;QAAM;KAAM;IAChD,MAAM,eAAe,QAAQ,UAAU,IAAI,QAAQ,KAAK;IAExD,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC,0KAAI;gBACD,MAAK;gBACL,WAAU;;kCAEV,6LAAC,gOAAS;wBAAC,WAAU;;;;;;oBAAiB;;;;;;;0BAI1C,6LAAC;gBAAI,WAAU;;kCAEX,6LAAC;wBAAI,WAAU;;0CAEX,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC,2IAAK;oCACF,KAAK,QAAQ,SAAS;oCACtB,KAAK,QAAQ,IAAI;oCACjB,IAAI;oCACJ,WAAU;oCACV,QAAQ;oCACR,OAAM;;;;;;;;;;;0CAKd,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC,2IAAK;oCACF,KAAK,QAAQ,SAAS;oCACtB,KAAK,GAAG,QAAQ,IAAI,CAAC,OAAO,CAAC;oCAC7B,IAAI;oCACJ,WAAU;oCACV,OAAM;;;;;;;;;;;;;;;;;kCAMlB,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAI,WAAU;;8CAEX,6LAAC;oCAAI,WAAU;8CACV,QAAQ,QAAQ;;;;;;8CAIrB,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAG,WAAU;sDACT,QAAQ,IAAI;;;;;;sDAEjB,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;oDAAK,WAAU;8DACX,IAAA,iIAAc,EAAC;;;;;;gDAEnB,QAAQ,UAAU,kBACf,6LAAC;oDAAK,WAAU;8DACX,IAAA,iIAAc,EAAC,QAAQ,KAAK;;;;;;;;;;;;;;;;;;8CAO7C,6LAAC;oCAAE,WAAU;8CACR,QAAQ,WAAW,IAAI;;;;;;8CAI5B,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;oDAAK,WAAU;8DAAuD;;;;;;8DAGvE,6LAAC;oDAAO,WAAU;8DAAiH;;;;;;;;;;;;sDAIvI,6LAAC;4CAAI,WAAU;sDACV,MAAM,GAAG,CAAC,CAAC,qBACR,6LAAC;oDAEG,SAAS,IAAM,gBAAgB;oDAC/B,WAAW,CAAC;;;4CAGR,EAAE,iBAAiB,OACb,qCACA,qCACL;4CACD,EAAE,SAAS,QAAQ,kCAAkC,GAAG;wCAC5D,CAAC;oDACD,UAAU,SAAS;8DAElB;mDAbI;;;;;;;;;;;;;;;;8CAoBrB,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAK,WAAU;sDAAuD;;;;;;sDAGvE,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;oDACG,SAAS,IAAM,YAAY,KAAK,GAAG,CAAC,GAAG,WAAW;oDAClD,WAAU;oDACV,UAAU,YAAY;8DAEtB,cAAA,6LAAC,gNAAK;wDAAC,WAAU;;;;;;;;;;;8DAErB,6LAAC;oDAAK,WAAU;8DAAsC;;;;;;8DACtD,6LAAC;oDACG,SAAS,IAAM,YAAY,KAAK,GAAG,CAAC,IAAI,WAAW;oDACnD,WAAU;oDACV,UAAU,YAAY;8DAEtB,cAAA,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;8CAM5B,6LAAC;oCAAI,WAAU;;sDACX,6LAAC,wIAAM;4CACH,MAAK;4CACL,WAAU;4CACV,SAAS;sDACZ;;;;;;sDAGD,6LAAC,wIAAM;4CACH,SAAQ;4CACR,MAAK;4CACL,WAAU;4CACV,SAAS;sDACZ;;;;;;;;;;;;8CAML,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAQ,WAAU;;8DACf,6LAAC;oDAAQ,WAAU;;wDAAwH;sEAEvI,6LAAC;4DAAK,WAAU;sEAA0D;;;;;;;;;;;;8DAE9E,6LAAC;oDAAI,WAAU;;sEACX,6LAAC;sEAAE;;;;;;sEACH,6LAAC;sEAAE;;;;;;sEACH,6LAAC;sEAAE;;;;;;sEACH,6LAAC;sEAAE;;;;;;;;;;;;;;;;;;sDAIX,6LAAC;4CAAQ,WAAU;;8DACf,6LAAC;oDAAQ,WAAU;;wDAAwH;sEAEvI,6LAAC;4DAAK,WAAU;sEAA0D;;;;;;;;;;;;8DAE9E,6LAAC;oDAAI,WAAU;8DAAyD;;;;;;;;;;;;sDAK5E,6LAAC;4CAAQ,WAAU;;8DACf,6LAAC;oDAAQ,WAAU;;wDAAwH;sEAEvI,6LAAC;4DAAK,WAAU;sEAA0D;;;;;;;;;;;;8DAE9E,6LAAC;oDAAI,WAAU;8DAAyD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAU5F,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAAsD;;;;;;kCAGpE,6LAAC;wBAAI,WAAU;kCAEV;4BAAC;4BAAG;4BAAG;4BAAG;yBAAE,CAAC,GAAG,CAAC,CAAC,kBACf,6LAAC;gCAAY,WAAU;;kDACnB,6LAAC;wCAAI,WAAU;kDACX,cAAA,6LAAC,2IAAK;4CACF,KAAK,CAAC,gCAAgC,EAAE,IAAI,MAAM,IAAI,UAAU,SAAS,wBAAwB,CAAC;4CAClG,KAAI;4CACJ,IAAI;4CACJ,WAAU;4CACV,OAAM;;;;;;;;;;;kDAGd,6LAAC;;0DACG,6LAAC;gDAAG,WAAU;;oDAA8C;oDACvC;;;;;;;0DAErB,6LAAC;gDAAE,WAAU;0DAAkC;;;;;;;;;;;;;+BAd7C;;;;;;;;;;;;;;;;;;;;;;AAsBlC;GAlRwB;;QACL,kJAAS;QACJ,iJAAO;;;KAFP"}}]
}