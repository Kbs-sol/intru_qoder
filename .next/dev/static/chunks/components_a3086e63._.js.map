{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/venka/Music/aph/Ubuntu_Cage/intru_in/components/cart/CartProvider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\nexport interface Product {\r\n    id: string;\r\n    name: string;\r\n    price: number;\r\n    image_url?: string;\r\n    razorpay_link?: string;\r\n    description?: string;\r\n}\r\n\r\nexport interface CartItem extends Product {\r\n    quantity: number;\r\n}\r\n\r\ninterface CartContextType {\r\n    items: CartItem[];\r\n    addItem: (product: Product) => void;\r\n    removeItem: (productId: string) => void;\r\n    updateQuantity: (productId: string, quantity: number) => void;\r\n    clearCart: () => void;\r\n    cartCount: number;\r\n    cartTotal: number;\r\n    isCartOpen: boolean;\r\n    setIsCartOpen: (isOpen: boolean) => void;\r\n}\r\n\r\nconst CartContext = createContext<CartContextType | undefined>(undefined);\r\n\r\nexport function CartProvider({ children }: { children: React.ReactNode }) {\r\n    const [items, setItems] = useState<CartItem[]>([]);\r\n    const [isCartOpen, setIsCartOpen] = useState(false);\r\n    const [isInitialized, setIsInitialized] = useState(false);\r\n\r\n    // Load cart from localStorage\r\n    useEffect(() => {\r\n        const savedCart = localStorage.getItem(\"cart\");\r\n        if (savedCart) {\r\n            try {\r\n                setItems(JSON.parse(savedCart));\r\n            } catch (e) {\r\n                console.error(\"Failed to parse cart data\", e);\r\n            }\r\n        }\r\n        setIsInitialized(true);\r\n    }, []);\r\n\r\n    // Save cart to localStorage\r\n    useEffect(() => {\r\n        if (isInitialized) {\r\n            localStorage.setItem(\"cart\", JSON.stringify(items));\r\n        }\r\n    }, [items, isInitialized]);\r\n\r\n    const addItem = (product: Product) => {\r\n        setItems((prevItems) => {\r\n            const existingItem = prevItems.find((item) => item.id === product.id);\r\n            if (existingItem) {\r\n                return prevItems.map((item) =>\r\n                    item.id === product.id\r\n                        ? { ...item, quantity: item.quantity + 1 }\r\n                        : item\r\n                );\r\n            }\r\n            return [...prevItems, { ...product, quantity: 1 }];\r\n        });\r\n        setIsCartOpen(true);\r\n    };\r\n\r\n    const removeItem = (productId: string) => {\r\n        setItems((prevItems) => prevItems.filter((item) => item.id !== productId));\r\n    };\r\n\r\n    const updateQuantity = (productId: string, quantity: number) => {\r\n        if (quantity < 1) {\r\n            removeItem(productId);\r\n            return;\r\n        }\r\n        setItems((prevItems) =>\r\n            prevItems.map((item) =>\r\n                item.id === productId ? { ...item, quantity } : item\r\n            )\r\n        );\r\n    };\r\n\r\n    const clearCart = () => {\r\n        setItems([]);\r\n    };\r\n\r\n    const cartCount = items.reduce((total, item) => total + item.quantity, 0);\r\n\r\n    const cartTotal = items.reduce(\r\n        (total, item) => total + item.price * item.quantity,\r\n        0\r\n    );\r\n\r\n    return (\r\n        <CartContext.Provider\r\n            value={{\r\n                items,\r\n                addItem,\r\n                removeItem,\r\n                updateQuantity,\r\n                clearCart,\r\n                cartCount,\r\n                cartTotal,\r\n                isCartOpen,\r\n                setIsCartOpen,\r\n            }}\r\n        >\r\n            {children}\r\n        </CartContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useCart() {\r\n    const context = useContext(CartContext);\r\n    if (context === undefined) {\r\n        throw new Error(\"useCart must be used within a CartProvider\");\r\n    }\r\n    return context;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AA6BA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAAiC;;IACpE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAa,EAAE;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IAEnD,8BAA8B;IAC9B,IAAA,0KAAS;kCAAC;YACN,MAAM,YAAY,aAAa,OAAO,CAAC;YACvC,IAAI,WAAW;gBACX,IAAI;oBACA,SAAS,KAAK,KAAK,CAAC;gBACxB,EAAE,OAAO,GAAG;oBACR,QAAQ,KAAK,CAAC,6BAA6B;gBAC/C;YACJ;YACA,iBAAiB;QACrB;iCAAG,EAAE;IAEL,4BAA4B;IAC5B,IAAA,0KAAS;kCAAC;YACN,IAAI,eAAe;gBACf,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAChD;QACJ;iCAAG;QAAC;QAAO;KAAc;IAEzB,MAAM,UAAU,CAAC;QACb,SAAS,CAAC;YACN,MAAM,eAAe,UAAU,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,QAAQ,EAAE;YACpE,IAAI,cAAc;gBACd,OAAO,UAAU,GAAG,CAAC,CAAC,OAClB,KAAK,EAAE,KAAK,QAAQ,EAAE,GAChB;wBAAE,GAAG,IAAI;wBAAE,UAAU,KAAK,QAAQ,GAAG;oBAAE,IACvC;YAEd;YACA,OAAO;mBAAI;gBAAW;oBAAE,GAAG,OAAO;oBAAE,UAAU;gBAAE;aAAE;QACtD;QACA,cAAc;IAClB;IAEA,MAAM,aAAa,CAAC;QAChB,SAAS,CAAC,YAAc,UAAU,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;IACnE;IAEA,MAAM,iBAAiB,CAAC,WAAmB;QACvC,IAAI,WAAW,GAAG;YACd,WAAW;YACX;QACJ;QACA,SAAS,CAAC,YACN,UAAU,GAAG,CAAC,CAAC,OACX,KAAK,EAAE,KAAK,YAAY;oBAAE,GAAG,IAAI;oBAAE;gBAAS,IAAI;IAG5D;IAEA,MAAM,YAAY;QACd,SAAS,EAAE;IACf;IAEA,MAAM,YAAY,MAAM,MAAM,CAAC,CAAC,OAAO,OAAS,QAAQ,KAAK,QAAQ,EAAE;IAEvE,MAAM,YAAY,MAAM,MAAM,CAC1B,CAAC,OAAO,OAAS,QAAQ,KAAK,KAAK,GAAG,KAAK,QAAQ,EACnD;IAGJ,qBACI,6LAAC,YAAY,QAAQ;QACjB,OAAO;YACH;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACJ;kBAEC;;;;;;AAGb;GApFgB;KAAA;AAsFT,SAAS;;IACZ,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX;IANgB"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/venka/Music/aph/Ubuntu_Cage/intru_in/components/auth/AuthProvider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { SessionProvider } from \"next-auth/react\";\r\n\r\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\r\n    return <SessionProvider>{children}</SessionProvider>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACpE,qBAAO,6LAAC,2JAAe;kBAAE;;;;;;AAC7B;KAFgB"}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/venka/Music/aph/Ubuntu_Cage/intru_in/components/cart/CartDrawer.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport Image from \"next/image\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { X, Plus, Minus, ShoppingBag, ArrowRight } from \"lucide-react\";\r\nimport { useCart } from \"./CartProvider\";\r\nimport Link from \"next/link\";\r\n\r\nexport function CartDrawer() {\r\n    const { items, isCartOpen, setIsCartOpen, removeItem, updateQuantity, cartTotal, cartCount } = useCart();\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            {isCartOpen && (\r\n                <>\r\n                    {/* Backdrop */}\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        onClick={() => setIsCartOpen(false)}\r\n                        className=\"fixed inset-0 bg-black/40 backdrop-blur-sm z-[100]\"\r\n                    />\r\n\r\n                    {/* Drawer */}\r\n                    <motion.div\r\n                        initial={{ x: \"100%\" }}\r\n                        animate={{ x: 0 }}\r\n                        exit={{ x: \"100%\" }}\r\n                        transition={{ type: \"spring\", damping: 25, stiffness: 200 }}\r\n                        className=\"fixed right-0 top-0 bottom-0 w-full max-w-md bg-white z-[101] shadow-2xl flex flex-col\"\r\n                    >\r\n                        {/* Header */}\r\n                        <div className=\"p-8 border-b border-gray-100 flex items-center justify-between\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <h2 className=\"text-[10px] font-black uppercase tracking-[0.4em]\">Your Bag</h2>\r\n                                <span className=\"bg-black text-white text-[9px] font-black w-5 h-5 flex items-center justify-center rounded-full\">\r\n                                    {cartCount}\r\n                                </span>\r\n                            </div>\r\n                            <button\r\n                                onClick={() => setIsCartOpen(false)}\r\n                                className=\"p-2 hover:bg-gray-50 rounded-full transition-colors\"\r\n                            >\r\n                                <X className=\"w-5 h-5\" />\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Items */}\r\n                        <div className=\"flex-1 overflow-y-auto p-8 space-y-8 scrollbar-hide\">\r\n                            {items.length === 0 ? (\r\n                                <div className=\"h-full flex flex-col items-center justify-center space-y-6 opacity-30\">\r\n                                    <ShoppingBag className=\"w-12 h-12 stroke-[1]\" />\r\n                                    <p className=\"text-[10px] font-black uppercase tracking-widest text-center\">Your bag is empty</p>\r\n                                    <button\r\n                                        onClick={() => setIsCartOpen(false)}\r\n                                        className=\"text-[10px] font-black uppercase tracking-widest border-b border-black pb-1 hover:opacity-50 transition-opacity\"\r\n                                    >\r\n                                        Start Shopping\r\n                                    </button>\r\n                                </div>\r\n                            ) : (\r\n                                items.map((item) => (\r\n                                    <div key={item.id} className=\"flex gap-6 group\">\r\n                                        <div className=\"relative w-24 aspect-[4/5] bg-gray-50 overflow-hidden rounded-sm flex-shrink-0\">\r\n                                            {item.image_url && (\r\n                                                <Image\r\n                                                    src={item.image_url}\r\n                                                    alt={item.name}\r\n                                                    fill\r\n                                                    className=\"object-cover\"\r\n                                                />\r\n                                            )}\r\n                                        </div>\r\n                                        <div className=\"flex-1 flex flex-col justify-between py-1\">\r\n                                            <div className=\"space-y-1\">\r\n                                                <div className=\"flex justify-between items-start gap-4\">\r\n                                                    <h3 className=\"text-[11px] font-black uppercase tracking-tight leading-tight line-clamp-2\">\r\n                                                        {item.name}\r\n                                                    </h3>\r\n                                                    <button\r\n                                                        onClick={() => removeItem(item.id)}\r\n                                                        className=\"text-[10px] text-gray-300 hover:text-black transition-colors uppercase font-black\"\r\n                                                    >\r\n                                                        Remove\r\n                                                    </button>\r\n                                                </div>\r\n                                                <p className=\"text-[10px] font-bold text-gray-400\">₹{item.price.toLocaleString()}</p>\r\n                                            </div>\r\n\r\n                                            <div className=\"flex items-center justify-between pt-4\">\r\n                                                <div className=\"flex items-center border border-gray-100 rounded-sm\">\r\n                                                    <button\r\n                                                        onClick={() => updateQuantity(item.id, item.quantity - 1)}\r\n                                                        className=\"p-2 hover:bg-gray-50 transition-colors\"\r\n                                                    >\r\n                                                        <Minus className=\"w-3 h-3\" />\r\n                                                    </button>\r\n                                                    <span className=\"w-8 text-center text-[10px] font-black\">{item.quantity}</span>\r\n                                                    <button\r\n                                                        onClick={() => updateQuantity(item.id, item.quantity + 1)}\r\n                                                        className=\"p-2 hover:bg-gray-50 transition-colors\"\r\n                                                    >\r\n                                                        <Plus className=\"w-3 h-3\" />\r\n                                                    </button>\r\n                                                </div>\r\n                                                <p className=\"text-[11px] font-black\">₹{(item.price * item.quantity).toLocaleString()}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                ))\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Footer */}\r\n                        {items.length > 0 && (\r\n                            <div className=\"p-8 border-t border-gray-100 bg-gray-50/50 space-y-6\">\r\n                                <div className=\"space-y-3\">\r\n                                    <div className=\"flex justify-between text-[10px] font-bold uppercase tracking-widest text-gray-400\">\r\n                                        <span>Subtotal</span>\r\n                                        <span>₹{cartTotal.toLocaleString()}</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between text-[11px] font-black uppercase tracking-[0.2em]\">\r\n                                        <span>Total</span>\r\n                                        <span>₹{cartTotal.toLocaleString()}</span>\r\n                                    </div>\r\n                                    <p className=\"text-[9px] text-gray-300 font-bold uppercase tracking-widest\">\r\n                                        Shipping & taxes calculated at checkout\r\n                                    </p>\r\n                                </div>\r\n                                <button className=\"w-full bg-black text-white py-6 text-[10px] font-black uppercase tracking-[0.3em] hover:bg-neutral-800 transition-all flex items-center justify-center gap-3 group shadow-2xl\">\r\n                                    Checkout\r\n                                    <ArrowRight className=\"w-4 h-4 transition-transform group-hover:translate-x-1\" />\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => setIsCartOpen(false)}\r\n                                    className=\"w-full text-[10px] font-black uppercase tracking-widest text-gray-400 hover:text-black transition-colors\"\r\n                                >\r\n                                    Continue Shopping\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </motion.div>\r\n                </>\r\n            )}\r\n        </AnimatePresence>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}